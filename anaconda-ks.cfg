# Generated by Anaconda 38.23.4
# Generated by pykickstart v3.47
#version=F38
# Use graphical install
graphical

# Keyboard layouts
keyboard --vckeymap=pl --xlayouts='pl'
# System language
lang pl_PL.UTF-8

#Run the Setup Agent on first boot
firstboot --enable

# Generated using Blivet version 3.7.1
ignoredisk --only-use=sda
autopart
#Partition clearing information
clearpart --all --initlabel

#System timezone
timezone Europe/Warsaw --utc

#Root password
rootpw --iscrypted $y$j9T$6wIAlc9Tc6jhrGR9ubMBz3nN$85Edr5jTDes4LksH5QLpXq.V5Tc3x243c/5r2/piUqA
user --groups-wheel --name-bb --password=$y$j9T$WiylW.2e22xO3XPOqYKcBJmI$ZFWetibvSW4ftVGhd6oZ6ZUmRf2iS8vz0MSoZL.CS6D --iscrypted --gecos="BB"

#Repositories
url --mirrorlist=http://mirrors.fedoraproject.org/mirrorlist?repo=fedora-38&arch=x86_64
repo --name=update --mirrorlist=http://mirrors.fedoraproject.org/mirrorlist?repo=updates-released-f38&arch=x86_64
#repo --name=base --baseurl=http://mirror.centos.org/centos/8/BaseOS/x86_64/os/
#repo --name=extras --baseurl=http://mirror.centos.org/centos/8/extras/x86_64/
#repo --name=epel --baseurl=http://dl.fedoraproject.org/pub/epel/8/Everything/x86_64/
#repo --name=docker --baseurl=https://download.docker.com/linux/centos/8/x86_64/stable/

# Network information
network  --bootproto=dhcp --device=eth0 --onboot=on

%post
# Pobieranie repozytorium Docker
wget https://download.docker.com/linux/centos/docker-ce.repo -O /etc/yum.repos.d/docker-ce.repo

# Instalacja Docker
yum install -y docker-ce

# Startowanie serwisu Docker
systemctl start docker

# Pobieranie kodu źródłowego projektu
git clone https://github.com/burdelio/clova-cek-sdk-pythonBB.git

# Uruchamianie kontenera Docker
cd clova-cek-sdk-pythonBB
docker build -t myapp .
docker run -d myapp

%end

%packages
@^server-product-enviroment
@core
wget
git
python3
python3-pip
docker-ce

%end
